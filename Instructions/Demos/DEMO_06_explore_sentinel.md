<!---
---
데모: 제목: 'Microsoft Sentinel' 학습 경로/모듈/제목: '학습 경로: Microsoft 보안 솔루션의 기능 설명, 모듈 3: Microsoft Sentinel의 보안 기능 설명, 단원 3: Microsoft Sentinel의 위협 검색 및 완화 기능 설명'
---
--->

# 데모: Microsoft Sentinel

이 데모는 다음 Learn 콘텐츠에 매핑됩니다.

- 학습 경로: Microsoft 보안 솔루션의 기능 설명
- 모듈: Microsoft Sentinel의 보안 기능 설명
- 단원: Microsoft Sentinel의 위협 검색 및 완화 기능 설명

## 데모 시나리오

이 데모에서는 콘텐츠 허브를 사용하여 배포 가능한 패키지 솔루션을 찾는 옵션 등 Microsoft Sentinel에서 사용 가능한 몇 가지 옵션을 살펴봅니다.  그 전에 먼저 Microsoft Sentinel 리소스에 액세스해야 하는 사용자용으로 역할 기반 액세스 제어 권한을 설정하는 과정부터 진행합니다.

### 데모 1부

데모 전 설정 과정에서 Microsoft Sentinel 인스턴스를 이미 만든 상태여야 합니다. 인스턴스가 작성되었는지 확인합니다.

1. 브라우저 탭에서 **홈 - Microsoft Azure**를 엽니다.  이전에 해당 탭을 닫았다면 브라우저 페이지를 열고 주소 표시줄에 **https://portal.azure.com**을 입력합니다. ALH(권한 있는 랩 호스터)에서 제공한 Azure 자격 증명을 사용하여 로그인합니다.  그러면 Azure 서비스 홈 페이지가 표시됩니다.

1. 검색 상자(페이지 위쪽의 'Microsoft Azure' 옆에 있는 파란색 막대)에 **Microsoft Sentinel**을 입력하고 검색 결과에서 **Microsoft Sentinel**을 선택합니다.  

1. Microsoft Sentinel 페이지에 Log Analytics 작업 영역이 나열된 것을 확인할 수 있습니다.  이는 Microsoft Sentinel 인스턴스가 만들어졌고 Log Analytics 작업 영역이 해당 인스턴스에 추가되었음을 나타냅니다. 확인할 수 없는 경우 다음 단계를 따릅니다.
    1. 페이지 맨 위에 있는 파란색 검색 상자에 **Log Analytics**를 입력하고 검색 결과에서 해당 항목을 선택합니다.
1. **+ 만들기**를 선택합니다.
1. Log Analytics 작업 영역 만들기의 기본 탭에서 다음 정보를 입력합니다.
    1. 구독: 기본값을 그대로 둡니다. ALH(권한 있는 랩 호스터)에서 제공하는 Azure 구독입니다.
    1. 리소스 그룹: **SC900-Sentinel-RG**를 선택합니다. 이 리소스 그룹이 목록에 없으면 **새로 만들기**를 선택하고 이름으로 **SC900-Sentinel-RG**를 입력한 다음 **확인**을 선택하여 해당 그룹을 만듭니다.
    1. 이름: **SC900-Sentinel-workspace**
    1. 지역: **미국 동부**를 선택합니다(위치에 따라 다른 기본 지역을 선택할 수 있음).
    1. **검토 + 만들기**를 선택합니다(태그가 구성되지 않음).
    1. 입력한 정보를 확인하고 **만들기**를 선택합니다.
    1. 새 작업 영역을 만드는 데는 1~2 분 정도 걸릴 수 있습니다.
    1. 작업 영역을 만들었다면 **리소스로 이동**을 선택하여 작업 영역에 대한 정보를 확인합니다.
1. 이 시점에서 Microsoft Sentinel 인스턴스는 아직 만들어지지 않았습니다. Sentinel 인스턴스를 만들려면 Microsoft Sentinel 페이지로 이동해야 합니다. 페이지 맨 위에 있는 파란색 검색 상자를 사용하여 **Microsoft Sentinel**을 검색하고 결과에서 해당 항목을 선택합니다.
1. Microsoft Sentinel에 작업 영역을 추가하려면 Microsoft Sentinel 페이지로 이동해야 합니다. 페이지 맨 위에 있는 파란색 검색 상자를 사용하여 **Microsoft Sentinel**을 검색합니다.
    1. Microsoft Sentinel 페이지에서 **+ 만들기**를 선택합니다.
    1. 이제 방금 만든 작업 영역을 추가할 수 있습니다. **SC900-Sentinel-workspace**를 선택한 다음 **추가**를 선택합니다.  Microsoft Sentinel 무료 평가판이 활성화되려면 몇 분 정도 걸릴 수 있습니다.  활성화되면 **확인**을 선택합니다.


1. 후속 작업에서 사용할 것이므로 이 페이지를 열어 두세요.

### 데모 2부

데모의 2부에서는 모든 Azure 리소스와 마찬가지로 Microsoft Sentinel 리소스에도 액세스할 수 있는 적절한 권한이 사용자에게 있는지를 확인합니다. 구체적으로는 Microsoft Sentinel에서 사용할 수 있는 역할 및 역할 할당 단계를 살펴봅니다.  

1. 검색 상자(페이지 위쪽의 'Microsoft Azure' 옆에 있는 파란색 막대)에 **리소스 그룹**을 입력하고 검색 결과에서 **리소스 그룹**을 선택합니다. 리소스 그룹 수준에서 역할을 할당하면 Microsoft Sentinel을 지원하기 위해 배포하는 모든 리소스에 이 역할이 적용됩니다.

1. 리소스 그룹 페이지에서 Microsoft Sentinel을 사용하여 만든 리소스 그룹인 **SC900-Sentinel-RG**를 선택합니다.

1. SC900-Sentinel-RG 페이지의 왼쪽 탐색 패널에서 **액세스 제어(IAM)** 를 선택합니다.

1. 액세스 제어 페이지에서 **내 액세스 권한 보기**를 선택합니다.  이 구독에 대해 이미 구성된 사용자 지정 역할 할당이 표시될 가능성이 높으며 사용자에게 필요한 권한을 부여합니다.  이 사용자 지정 역할은 랩 환경을 제공하는 ALH(권한 있는 랩 호스팅 서비스 공급자)에 의해 설정되었을 것입니다. 그러나 데모에서는 Sentinel 관련 역할을 표시하는 것이 좋습니다.  창 오른쪽 위의 **X**를 선택하여 할당 창을 닫습니다.

    1. 액세스 제어 페이지에서 **+추가**를 선택하고 **역할 할당 추가**를 선택합니다.

    1. 역할 할당 추가 창이 열립니다.  검색 상자에 **Microsoft Sentinel**을 입력하여 Microsoft Sentinel과 연결된 역할을 확인합니다.
    1. 나열된 역할 중 하나에서 **보기**를 선택하여 해당 역할의 세부 정보를 봅니다.  모범 사례에 따라 역할에 필요한 최소 권한을 할당해야 합니다.  

    1. 창의 오른쪽 맨 위에 있는 **X**를 선택하여 창을 닫습니다.

1. 액세스 제어 페이지에서 창 오른쪽 맨 위에 있는 **X**를 선택하여 창을 닫습니다.

1. 창 왼쪽 위에서 'Microsoft Azure'가 표시된 파란색 막대 바로 아래의 **홈**을 선택하여 Azure 서비스 홈 페이지로 돌아옵니다.

1. Azure 탭은 브라우저에 열어 두세요.

### 데모 3부

데모의 이 부분에서는 데이터 원본에 연결하는 단계를 보여 줍니다. 대다수 데이터 커넥터는 분석 규칙, 통합 문서, 플레이북 등의 관련 콘텐츠와 함께 Microsoft Sentinel 솔루션의 구성 요소로 배포됩니다. Microsoft Sentinel 콘텐츠 허브는 기본 제공 콘텐츠를 검색하고 관리할 수 있는 중앙 위치입니다. 이 단계에서는 콘텐츠 허브를 사용하여 Microsoft Sentinel에서 사용할 클라우드용 Microsoft Defender 솔루션을 배포합니다.  이 솔루션을 사용하면 클라우드용 Microsoft Defender에서 보고되는 보안 경고를 수집할 수 있습니다.

1. Azure 서비스 홈페이지에서 Microsoft Sentinel을 선택하고 앞서 만든 **SC900-Sentinel-workspace** 인스턴스를 선택합니다.

1. 왼쪽 탐색 패널에서 **콘텐츠 관리**를 펼친 다음 **콘텐츠 허브**를 선택합니다.

1. 아래로 스크롤하여 사용 가능한 여러 가지 솔루션 목록과 해당 목록을 필터링할 수 있는 옵션을 잠시 살펴봅니다.  이 작업에서는 **클라우드용 Microsoft Defender**를 찾습니다.  목록에서 해당 솔루션을 선택합니다.  옆쪽 창이 열리면 설명을 확인하고 **설치**를 선택합니다.  설치가 완료되면 주 창의 상태 열에 설치된 것으로 표시됩니다.

1. 클라우드용 Microsoft Defender 페이지 오른쪽에는 Content Hub의 솔루션과 관련된 설명 및 메모와 이 솔루션의 일부로 포함된 콘텐츠가 있습니다.  주 창에는 솔루션의 구성 요소가 있습니다.  이 경우 데이터 커넥터 2개와 데이터 규칙 1개가 있습니다. 주황색 삼각형은 일부 구성이 필요함을 나타냅니다. **구독 기반 클라우드용 Microsoft Defender(레거시)** 옆에 있는 상자를 선택합니다.  페이지 오른쪽에 창이 열립니다.  **커넥터 페이지 열기**를 선택합니다.

1. 구성 지침을 살펴봅니다.  구독 이름 옆의 확인란을 선택하고 **연결**을 선택합니다.  상태가 연결됨으로 바뀝니다.  이제 커넥터가 사용하도록 설정되었습니다. 커넥터가 데이터 커넥터 페이지에 표시되려면 시간이 다소 걸릴 수도 있습니다.  

1. 이제 분석 규칙 관련 정보를 확인합니다.  페이지 위쪽의 이동 경로에서 **클라우드용 Microsoft Defender**를 선택합니다. 커넥터는 이미 구성했으므로 클라우드용 Microsoft Defender 옆의 확인란 선택을 취소합니다. 경고 아이콘이 사라질 때까지 시간이 다소 걸릴 수도 있습니다. **관련 보안 경고에서 CoreBackUp 삭제 활동 검색** 옆의 확인란을 선택합니다.  분석 규칙 페이지가 나타납니다.  다시 **관련 보안 경고에서 CoreBackUp 삭제 작업 검색** 규칙을 선택합니다. 규칙과 그 역할에 대한 정보를 제공하는 오른쪽에 열리는 창입니다.  **규칙 만들기**를 선택합니다.  
    1. 규칙 논리의 세부 사항은 기본 범위를 벗어나지만 규칙 만들기의 각 탭을 통해 구성할 수 있는 정보 형식을 확인합니다.
    1. 검토 + 만들기 탭이 나타나면 **저장**을 선택합니다.

1. 페이지 위쪽 이동 경로의 분석 규칙 아래에서 **Microsoft Sentinel | 콘텐츠 허브**를 선택하여 Sentinel 페이지로 돌아옵니다.

1. 콘텐츠 허브를 사용하면 솔루션을 쉽고 빠르게 배포할 수 있습니다.

1. 다음 작업에서 사용할 수 있도록 이 페이지를 열어 두세요.

### 데모 4부

데모의 이 부분에서는 Sentinel에서 사용할 수 있는 옵션 중 일부를 설명합니다.

1. 왼쪽 탐색 패널에서 **헌팅**을 선택합니다.  페이지 위쪽에서 **쿼리** 탭을 선택한 후 헌팅 쿼리의 설명을 확인합니다. 콘텐츠 허브를 통해 헌팅 쿼리를 추가할 수 있습니다. 이 탭에는 이전에 설치한 쿼리가 표시됩니다. **콘텐츠 허브로 이동**을 선택합니다.  콘텐츠 허브에는 솔루션의 일부분인 쿼리나 독립 실행형 쿼리가 포함된 콘텐츠 목록이 표시됩니다.  아래로 스크롤하여 사용 가능한 옵션을 확인합니다.

1. 왼쪽 탐색 패널에서 **MITRE ATT&CK**를 선택합니다.  MITRE ATT&CK는 공격자가 일반적으로 사용하는 전술 및 기술과 관련하여 공개적으로 액세스할 수 있는 기술 자료입니다. Microsoft Sentinel을 사용하면 MITRE ATT&CK® 프레임워크의 전술 및 기술에 따라 작업 영역에서 이미 활성화된 탐지와 구성할 수 있는 탐지를 보고 조직의 보안 범위를 파악할 수 있습니다.  행렬에서 셀을 선택하고 화면 오른쪽에 제공되는 정보를 확인합니다.  

1. 왼쪽 탐색 패널에서 **커뮤니티**를 선택합니다. 커뮤니티 페이지에는 Microsoft Research의 사이버 보안 정보 및 업데이트, Microsoft Sentinel 블로그 목록 링크, Microsoft Sentinel 포럼 링크, Microsoft Sentinel 허브에 대한 최신 버전 링크 등이 포함되어 있습니다. 이를 원하는 대로 탐색합니다.

1. 왼쪽 탐색 패널에서 **분석**을 선택합니다.  활성 규칙 2개(기본 제공 규칙과 이전 작업에서 만든 규칙)가 표시됩니다. 기본 규칙인 **고급 다단계 공격 탐지**를 선택합니다.  세부 정보를 확인합니다.  Microsoft Sentinel은 확장 가능한 기계 학습 알고리즘을 기반으로 하는 상관 관계 엔진인 Fusion을 사용하여 킬 체인의 다양한 단계에서 관찰되는 비정상적인 동작과 의심스러운 작업의 조합을 식별하여 다단계 공격(지능형 지속적 위협이라고도 함)을 자동으로 탐지합니다. 이러한 발견을 기반으로 Microsoft Sentinel은 포착하기 어려운 인시던트를 생성합니다.

1. 왼쪽 탐색 패널에서 **자동화**를 선택합니다.  여기서는 간단한 자동화 규칙을 만들거나, 기존 플레이북과 통합하거나, 새 플레이북을 만들 수 있습니다.  **+ 만들기**, **자동화 규칙**을 차례로 선택합니다.  화면 오른쪽에 열린 창과 조건 및 작업을 만드는 데 사용할 수 있는 옵션을 확인합니다.  페이지 아래쪽에서 **취소**를 선택합니다.

1. 왼쪽 탐색 패널에서 **통합 문서**를 선택합니다. Microsoft Sentinel 통합 문서에 대한 설명을 참조하세요.  콘텐츠 허브를 통해 통합 문서를 추가할 수 있습니다. 여기에는 이전에 설치한 통합 문서가 표시됩니다. **콘텐츠 허브로 이동**을 선택합니다.  콘텐츠 허브에는 솔루션의 일부분인 통합 문서나 독립 실행형 통합 문서가 포함된 콘텐츠 목록이 표시됩니다. 아래로 스크롤하여 사용 가능한 옵션을 확인합니다.

1. 창의 오른쪽 맨 위에 있는 **X**를 선택하여 창을 닫습니다.

1. 창 왼쪽 위의 파란색 막대 바로 아래에서 **홈**을 선택하여 Azure Portal 홈 페이지로 돌아옵니다.  

### 검토

이 데모에서는 Microsoft Sentinel을 데이터 원본에 연결하는 단계를 안내하고 통합 문서를 설정하고 Microsoft Sentinel에서 사용할 수 있는 여러 옵션을 살펴보았습니다.
